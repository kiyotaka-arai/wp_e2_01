<!-- „Åì„Çå„ÅØ„Çµ„Éñ„É´„Éº„Éó„Åß„ÅÑ„ÅÑ„Çì„Å†„Å™‚Ä¶ -->
<!-- „Çµ„Éñ„É´„Éº„Éó„Çí„Éô„Éº„Çπ„Å´„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åß„ÄÅ‰∏≠Á¥öËÄÖ„ÅÆÊñπ„ÅØ„Åì„Å°„Çâ„ÅÆÊñπ„Åå„Ç´„Çπ„Çø„Éû„Ç§„Ç∫„Åó„ÇÑ„Åô„ÅÑ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ -->
<?php get_header(); ?>

<div class="blog">

    <ul class="blog-list">

        <?php
            $args = [
                'tax_query' => array(
                    array(
                      'taxonomy' => 'blog_cat',
                      //„Çø„ÇØ„ÇΩ„Éé„Éü„Éº„ÇíÊåáÂÆö
                      'field' => 'slug',
                      //„Çø„Éº„É†Âêç„Çí„Çπ„É©„ÉÉ„Ç∞„ÅßÊåáÂÆö„Åô„Çã
                      'terms' => 'trip',
                      // „Å™„Å´„Åì„ÇåÔºà„Çª„É´„ÉïÔºâ
                    ),
                  ),
                  'post_type' => 'blog',
                  // ÊäïÁ®ø„Çø„Ç§„Éó„ÅÆ„Çπ„É©„ÉÉ„Ç∞„ÇíÊåáÂÆö
                  'post_status' => 'publish',
                  // ÂÖ¨ÈñãÊ∏à„ÅÆÊäïÁ®ø„ÇíÊåáÂÆö
                  'posts_per_page' => -1,
                  // „Åô„Åπ„Å¶„ÅÆÊäïÁ®ø
            ];
            // https://hirashimatakumi.com/blog/5409.html
            // „ÅÇ„Çä„Åå„Å®„ÅÜ„Å™‚Ä¶üò≠
            $blog_posts = new WP_Query( $args );
            // WP_Query„Éê„Éº„Ç∏„Éß„É≥
            // https://zenn.dev/ohno/articles/33fab94b9b9228
            $terms = get_terms('blog_cat');
            // Êù°‰ª∂„ÇíÊåáÂÆö„Åó„Å¶„Çø„ÇØ„ÇΩ„Éé„Éü„ÉºÊÉÖÂ†±„ÇíÊ§úÁ¥¢„Åó„ÄÅ„Éû„ÉÉ„ÉÅ„Åó„Åü„Åô„Åπ„Å¶„ÅÆ„Éá„Éº„Çø„ÇíÂèñÂæó„Åô„Çã„ÄÇ
        ?>

        <?php
            if ( $blog_posts -> have_posts() ) :
                while ( $blog_posts -> have_posts() ) :
                //  whileÊñá„ÅØ„ÄÅÂºè„ÅÆÂÄ§„Ååtrue„Åß„ÅÇ„ÇãÈñì„ÄÅ ÂÖ•„ÇåÂ≠ê„ÅÆÊñá„ÇíÁπ∞„ÇäËøî„ÅóÂÆüË°å„Åô„Çã„Åì„Å®„ÇíPHP„Å´ÊåáÁ§∫„Åó„Åæ„Åô„ÄÇ
                // have_posts
                // „Åì„ÅÆÈñ¢Êï∞„ÅØÁèæÂú®„ÅÆ WordPress „ÇØ„Ç®„É™„Å´„É´„Éº„Éó„Åß„Åç„ÇãÁµêÊûú„Åå„ÅÇ„Çã„Åã„Å©„ÅÜ„Åã„Çí„ÉÅ„Çß„ÉÉ„ÇØ„Åó„Åæ„Åô„ÄÇ„Éñ„Éº„É´ÂûãÈñ¢Êï∞„Åß„ÄÅTRUE „Åæ„Åü„ÅØ FALSE „ÇíËøî„Åó„Åæ„Åô„ÄÇ
                    $blog_posts -> the_post();
                    // „É´„Éº„Éó„ÇíÊ¨°„ÅÆÊäïÁ®ø„Å∏ÈÄ≤„ÇÅ„Åæ„Åô„ÄÇ Ê¨°„ÅÆÊäïÁ®ø„ÇíÂèñÂæó„Åó„Å¶„ÄÅ„Åù„Çå„Çí„ÄåÁèæÂú®„ÅÆÊäïÁ®ø„Äç„Å®„Åó„Å¶„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Åó„ÄÅ„É´„Éº„Éó„ÅÆ 'in the loop' „Éó„É≠„Éë„ÉÜ„Ç£„Çí true „Å´„Åó„Åæ„Åô„ÄÇ
                    // „ÄåÁèæÂú®„ÅÆÊäïÁ®ø„Äç„ÅØ„É´„Éº„Éó„ÅÆ‰∏≠„Åß the_title() „ÇÑ the_content() Á≠â„ÅåÂØæË±°„Å®„Åô„ÇãÊäïÁ®ø„Åß„Åô„ÄÇ
                    // 'in the loop' „Éó„É≠„Éë„ÉÜ„Ç£„ÅØ„É´„Éº„Éó„ÅÆ‰∏≠„Åß„ÅÇ„Çã„Åã„Å©„ÅÜ„Åã„ÇíÁ§∫„Åó„Åæ„Åô„ÄÇ„Åì„Çå„ÅØ in_the_loop() Êù°‰ª∂ÂàÜÂ≤ê„Çø„Ç∞„Çí‰Ωø„Å£„Å¶Á¢∫„Åã„ÇÅ„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ
        ?>

            <li class="blog-item">
                <a href="<?php the_permalink(); ?>">
                    <figure>
                        <?php
                            if ( has_post_thumbnail() ):
                                the_post_thumbnail();
                            endif;
                        ?>
                    </figure>
                    <p>
                        <?php
                            $term = get_the_terms( 0, 'blog_cat' );
                            // var_dump($term);
                            // array(1)„Å£„Å¶„Å™„Å£„Å¶„Çã„Åë„Å©ÔºüÔºüÔºüÔºüÔºü
                            // ÊäïÁ®ø„Å´Â±û„Åô„Çã„Çø„Éº„É†„ÇíÂçò‰Ωì„ÅßÂèñÂæó
                            // „Çø„Éº„É†„ÇíÂçò‰Ωì„ÅßÂèñÂæó„Åô„ÇãÈñ¢Êï∞„ÅØ„Äåget_the_terms„Äç„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ
                            // ÊäïÁ®ø„Å´Â±û„Åô„Çã„Çø„Éº„É†„ÇíÂèñÂæó„Åô„Çã„ÅÆ„Åß„ÄÅ‰∏ª„Å´ÊäïÁ®ø‰∏ÄË¶ß„Éö„Éº„Ç∏„ÄÅÊäïÁ®øË©≥Á¥∞„Éö„Éº„Ç∏„Åß‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ
                            // „Äå„Çø„ÇØ„ÇΩ„Éé„Éü„Éº„Çπ„É©„ÉÉ„Ç∞„Äç„Å®Ë®òËºâ„Åï„Çå„Å¶„ÅÑ„ÇãÁÆáÊâÄ„Å´„ÅØ„ÄÅÁôªÈå≤„Åó„Åü„Ç´„Çπ„Çø„É†„Çø„ÇØ„ÇΩ„Éé„Éü„Éº„ÅÆ„Çπ„É©„ÉÉ„Ç∞„ÇíÂÖ•„Çå„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ
                            echo esc_html( $term[0] -> name );
                            // „Åì„Çå$term[0]„Å™„Åó„Åò„ÇÉ„ÅÑ„Åë„Å™„Åã„Å£„Åü„Åë„Å©ÈÖçÂàó„ÅÆ‰∏≠„Å´ÈÖçÂàó„Åø„Åü„ÅÑ„Å™ÊÑü„Åò„Å†„Å£„Åü„ÇìÔºüÔºüÔºüÔºüÔºüÔºüÔºü
                        ?>
                        <!-- get_the_terms - ÊäïÁ®øË®ò‰∫ã„ÅÆ„Çø„ÇØ„ÇΩ„Éé„Éü„ÉºÊÉÖÂ†±„ÇíÂèñÂæó„Åô„Çã -->
                        <!-- ÊäïÁ®øIDÔºàÊï∞ÂÄ§Ôºâ„Åæ„Åü„ÅØÊäïÁ®øÊÉÖÂ†±Ôºà„Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÔºâ„ÇíÊåáÂÆöÔºàÁúÅÁï•ÊôÇ„ÅØ0Ôºâ„ÄÇ -->
                        <!-- „Éû„ÉÉ„ÉÅ„Åó„Åü„Åô„Åπ„Å¶„ÅÆ„Çø„ÇØ„ÇΩ„Éé„Éü„ÉºÊÉÖÂ†±„ÅåÊ†ºÁ¥ç„Åï„Çå„ÅüÈÖçÂàó„ÇíËøî„Åô„ÄÇ„Éë„É©„É°„Éº„Çø$taxonomy„ÅßÊåáÂÆö„Åï„Çå„ÅüÂêçÂâç„ÅåÁÑ°Âäπ„Å™Â†¥Âêà„ÅØfalse„ÇíËøî„Åô„ÄÇ„Çø„ÇØ„ÇΩ„Éé„Éü„ÉºÊÉÖÂ†±„ÅÆ„Éó„É≠„Éë„ÉÜ„Ç£„ÅØÊ¨°„ÅÆÈÄö„Çä„ÄÇ -->
                    </p>
                    <p>
                        <?php the_time('YÂπ¥ nÊúà'); ?>
                    </p>
                    <h3>
                        <?php the_title(); ?>
                    </h3>
                    <?php the_content(); ?>
                </a>
            </li>

        <?php endwhile; ?>

        <?php else : // Ë®ò‰∫ã„Åå„Å™„ÅÑÂ†¥Âêà ?>

            <li>„Åæ„Å†ÊäïÁ®ø„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</li>

        <?php endif;
            wp_reset_postdata();
        ?>

    </ul>
    <!-- /„Éñ„É≠„Ç∞Ôºì‰ª∂Âá∫Âäõ -->

    <ul>
        <?php
            foreach ( $terms as $term ) :
                // echo '<li><a href="'.get_term_link($term).'">'.$term->name.'</a></li>';
        ?>

                <li>
                    <a href="<?php echo esc_url( get_term_link($term) ); ?>">
                    <!-- /get_term_link()„ÅØ„ÄÅÊåáÂÆö„Åó„Åü„Çø„ÇØ„ÇΩ„Éé„Éü„Éº„ÅÆURL„Ç¢„Éâ„É¨„Çπ„ÇíÂèñÂæó„Åô„ÇãÈñ¢Êï∞„Åß„Åô„ÄÇ -->
                        <?php echo esc_html($term -> name); ?>
                        <!-- „Åì„ÇågetÁöÑ„Å™„Åì„Å®„Å´„Å™„Çã„Çì„Å† -->
                        <!-- esc_html‰∏ÄÊó¶‰Ωø„Åä„ÅÜ‚Ä¶ -->
                    </a>
                </li>

            <?php endforeach; ?>


    </ul>
    <!-- /„Ç´„Çπ„Çø„É†ÊäïÁ®ø„Äå„Éñ„É≠„Ç∞„Äç„ÅÆ„Éñ„É≠„Ç∞„Ç´„ÉÜ„Ç¥„É™‰∏ÄË¶ßÂá∫Âäõ -->

</div>
<!-- /„Éñ„É≠„Ç∞ÔºàWP_QueryÔºâ -->

<?php get_footer();
